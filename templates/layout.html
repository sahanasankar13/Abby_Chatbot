<!DOCTYPE html>
<html lang="en" data-bs-theme="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="description" content="Access accurate, compassionate reproductive health information through Abby Health Chat.">
    <title>Abby Health Chat</title>
    
    <!-- Favicon -->
    <link rel="icon" type="image/png" href="/static/images/favicon.png">
    
    <!-- Apple touch icons -->
    <link rel="apple-touch-icon" href="/static/images/apple-touch-icon.png">
    
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Inter font for clean, modern typography -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap">
    
    <!-- Custom CSS -->
    <link rel="stylesheet" href="/static/css/style.css">
</head>
<body>
    {% block content %}{% endblock %}
    
    <!-- Bootstrap JS Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    
    <!-- Theme Toggle JS -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Always use light theme by default
            const savedTheme = localStorage.getItem('theme') || 'light';
            document.documentElement.setAttribute('data-bs-theme', savedTheme);
            
            // Add event listener to theme toggle links
            const themeToggles = document.querySelectorAll('.theme-toggle');
            themeToggles.forEach(toggle => {
                toggle.addEventListener('click', function(e) {
                    e.preventDefault();
                    toggleTheme();
                });
            });
            
            // Update theme UI based on current theme
            updateThemeUI(savedTheme);
        });

        function toggleTheme() {
            const currentTheme = document.documentElement.getAttribute('data-bs-theme');
            const newTheme = currentTheme === 'dark' ? 'light' : 'dark';
            
            document.documentElement.setAttribute('data-bs-theme', newTheme);
            localStorage.setItem('theme', newTheme);
            updateThemeUI(newTheme);
        }

        function updateThemeUI(theme) {
            const themeToggles = document.querySelectorAll('.theme-toggle');
            const themeTextElements = document.querySelectorAll('.theme-text');
            
            themeToggles.forEach(toggle => {
                const iconElement = toggle.querySelector('i');
                if (iconElement) {
                    if (theme === 'dark') {
                        iconElement.className = 'fas fa-sun';
                    } else {
                        iconElement.className = 'fas fa-moon';
                    }
                }
            });
            
            themeTextElements.forEach(textElement => {
                if (theme === 'dark') {
                    textElement.textContent = 'Light Mode';
                } else {
                    textElement.textContent = 'Dark Mode';
                }
            });
        }
    </script>
    
    <!-- Custom JS -->
    {% block scripts %}{% endblock %}
    
    <!-- Privacy Protection -->
    <script>
        // Prevent form autofill 
        document.addEventListener('DOMContentLoaded', function() {
            // Add autocomplete="off" to chat form
            const chatForm = document.getElementById('chatForm');
            if (chatForm) {
                chatForm.setAttribute('autocomplete', 'off');
            }
        });
    </script>
</body>
</html>
